# üöÄ UI autotests with pytest + playwright

**–ö—Ä–∞—Ç–∫–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ** ‚Äì –ø—Ä–æ–µ–∫—Ç –∞–≤—Ç–æ—Ç–µ—Å—Ç–æ–≤, —Å–æ–∑–¥–∞–Ω–Ω—ã–π –Ω–∞ —Å—Ç–µ–∫–µ —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–π: pytest, playwright, allure.

---
## üìù –û–≥–ª–∞–≤–ª–µ–Ω–∏–µ
- [–°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞](#—Å—Ç—Ä—É–∫—Ç—É—Ä–∞-–ø—Ä–æ–µ–∫—Ç–∞)
- [–ù–∞—Å—Ç—Ä–æ–π–∫–∞ –æ–∫—Ä—É–∂–µ–Ω–∏—è](#–Ω–∞—Å—Ç—Ä–æ–π–∫–∞-–æ–∫—Ä—É–∂–µ–Ω–∏—è)
- [–ó–∞–ø—É—Å–∫ –∞–≤—Ç–æ—Ç–µ—Å—Ç–æ–≤](#–∑–∞–ø—É—Å–∫-–∞–≤—Ç–æ—Ç–µ—Å—Ç–æ–≤)
- [–ü—Ä–æ—Å–º–æ—Ç—Ä Trace Viewer](#trace-viewer)


---
## ü•ù –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞
- **components** - –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã —Å–æ–≥–ª–∞—Å–Ω–æ –ø–∞—Ç—Ç–µ—Ä–Ω–∞ Page Component
    - page - –ø–∞–ø–∫–∏ –ø–æ —Å—Ç—Ä–∞–Ω–∏—Ü–∞–º —Å –∏—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞–º–∏
- **elements** - —ç–ª–µ–º–µ–Ω—Ç—ã —Å–æ–≥–ª–∞—Å–Ω–æ –ø–∞—Ç—Ç–µ—Ä–Ω—É Page Factory
- **fixtures** - –º–æ–¥—É–ª–∏ —Å —Ñ–∏–∫—Å—Ç—É—Ä–∞–º–∏ –ø–æ –ª–æ–≥–∏—á–µ—Å–∫–∏–º —Ä–∞–∑–¥–µ–ª–∞–º
- **pages** - –ø–∞–∫–µ—Ç —Å–æ —Å—Ç—Ä–∞–Ω–∏—Ü–∞–º–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
    - page - –ø–∞–ø–∫–∏ —Å—Ç—Ä–∞–Ω–∏—Ü –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –ø–æ –ª–æ–≥–∏—á–µ—Å–∫–∏–º —Ä–∞–∑–¥–µ–ª–∞–º
- **testdata** - —Ç–µ—Å—Ç–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ
- **tools** - –≤—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω—ã–µ —É—Ç–∏–ª–∏—Ç—ã –ø–æ –ª–æ–≥–∏—á–µ—Å–∫–∏–º —Ä–∞–∑–¥–µ–ª–∞–º
- **tests** - —Ç–µ—Å—Ç—ã
- conftest.py - —Ñ–∞–π–ª —Å –æ—Å–Ω–æ–≤–Ω—ã–º–∏ —Ñ–∏–∫—Å—Ç—É—Ä–∞–º–∏
- pytest.ini - —Ñ–∞–π–ª –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ pytest
- requirements.txt - —Å–ø–∏—Å–æ–∫ –±–∏–±–ª–∏–æ—Ç–µ–∫, –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–π –¥–ª—è –∑–∞–ø—É—Å–∫–∞ –ø—Ä–æ–µ–∫—Ç–∞


---
## ‚öôÔ∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –æ–∫—Ä—É–∂–µ–Ω–∏—è
- –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –ø—Ä–æ–µ–∫—Ç–∞ –º–æ–∂–Ω–æ –≤ —Ç–µ—Ä–º–∏–Ω–∞–ª–µ —Å –∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞–Ω–Ω—ã–º –æ–∫—Ä—É–∂–µ–Ω–∏–µ–º –∫–æ–º–∞–Ω–¥–æ–π
```bash
pip install -r requirements.txt
```

- –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –±—Ä–∞—É–∑–µ—Ä—ã
```bash
playwright install
```

---
## ü™Ñ –ó–∞–ø—É—Å–∫ –∞–≤—Ç–æ—Ç–µ—Å—Ç–æ–≤ 

- –ó–∞–ø—É—Å—Ç–∏—Ç—å –≤—Å–µ –∞–≤—Ç–æ—Ç–µ—Å—Ç—ã –º–æ–∂–Ω–æ –∫–æ–º–∞–Ω–¥–æ–π 
```bash
pytest
```
 
- –ü–æ –Ω–∞–∑–≤–∞–Ω–∏—é –∞–≤—Ç–æ—Ç–µ—Å—Ç–∞ —Å –∫–ª—é—á–æ–º -k –∏ –Ω–∞–∑–≤–∞–Ω–∏–µ–º —Ç–µ—Å—Ç–∞
```bash
pytest -k "test_successful_authorization"
```

- –ü–æ –º–∞—Ä–∫–µ—Ä—É —Å –∫–ª—é—á–æ–º -m –∏ –Ω–∞–∑–≤–∞–Ω–∏–µ–º –º–∞—Ä–∫–µ—Ä–∞

```bash
pytest -m regression
```

---
## ‚ú®–ü—Ä–æ—Å–º–æ—Ç—Ä Trace Viewer

–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ–± –∞–≤—Ç–æ—Ç–µ—Å—Ç–∞—Ö —Å–æ–±–∏—Ä–∞–µ—Ç—Å—è –≤ –ø–∞–ø–∫—É tracing —Ç–æ–ª—å–∫–æ –≤ —Å–ª—É—á–∞–µ –ø–∞–¥–µ–Ω–∏—è –∞–≤—Ç–æ—Ç–µ—Å—Ç–∞. –ü–æ—Å–ª–µ –ø—Ä–æ–≥–æ–Ω–∞ 
trace –º–æ–∂–Ω–æ –ø–æ–ª—É—á–∏—Ç—å –∏ –æ—Ç–∫—Ä—ã—Ç—å –æ–¥–Ω–∏–º –∏–∑ 3 —Å–ø–æ—Å–æ–±–æ–≤:

- –∑–∞–ø—É—Å–∫ –∫–æ–º–∞–Ω–¥–æ–π playwright
```bash
playwright show-trace ./tracing/test_create_course.zip
```

- –ü–µ—Ä–µ–π—Ç–∏ –Ω–∞ —Å–∞–π—Ç https://trace.playwright.dev/ , –Ω–∞–∂–∞—Ç—å –Ω–∞ –∫–Ω–æ–ø–∫—É **Select file** –∏ –≤—ã–±—Ä–∞—Ç—å –Ω—É–∂–Ω—ã–π 
—Ñ–∞–π–ª –∏–∑ —Å–ø–∏—Å–∫–∞ –≤ –ø–∞–ø–∫–µ tracing

- –ï—Å–ª–∏ –ø—Ä–æ–≥–æ–Ω –≤ CI/CD, –Ω–∞–π—Ç–∏ —É–ø–∞–≤—à–∏–π –∞–≤—Ç–æ—Ç–µ—Å—Ç -> —Ä–∞–∑–¥–µ–ª Tear down -> –≤ —Ä–∞–∑–¥–µ–ª–µ —Ñ–∏–∫—Å—Ç—É—Ä—ã —Å–æ–∑–¥–∞–Ω–∏—è 
–±—Ä–∞—É–∑–µ—Ä–∞ chromium_page –∏–ª–∏ chromium_page_with_state –±—É–¥–µ—Ç –∞—Ä—Ö–∏–≤ —Å trace viewer. –°–∫–∞—á–∞—Ç—å –∞—Ä—Ö–∏–≤ –∏ 
–æ—Ç–∫—Ä—ã—Ç—å –æ–¥–Ω–∏–º –∏–∑ –æ–ø–∏—Å–∞–Ω–Ω—ã—Ö –≤—ã—à–µ —Å–ø–æ—Å–æ–±–æ–≤